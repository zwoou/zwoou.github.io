---
title: shell  
tags:
    - shell  
---

# shell环境

- Bourne Shell （/usr/bin/sh或/bin/sh)
- Bourne Again Shell(/bin/bash)
 运行shell

 ```shell
 chmod +x ./test.sh
 ./test.sh
 ```

 echo 命令用于向窗口输出文本。 
 ## 变量
 定义变量时，变量名不加美元符号
 变量名和等号之间不能有空格
 - 使用变量
 使用一个定义过的变量，只要在变量名前面加美元符号即可
 - 只读变量
 使用 readonly 命令可以将变量定义为只读变量，只读变量的值不能被改变。
 - 删除变量
 使用 unset 命令可以删除变量。语法：
 ```
 unset variable_name
 ```
 变量被删除后不能再次使用。unset 命令不能删除只读变量。
 - 变量类型
 运行shell时，会同时存在三种变量：
    - 局部变量 局部变量在脚本或命令中定义，仅在当前shell实例中有效，其他shell启动的程序不能访问局部变量。
    - 环境变量 所有的程序，包括shell启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候shell脚本也可以定义环境变量。
    -  shell变量 shell变量是由shell程序设置的特殊变量。shell变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了shell的正常运行
<!--more-->

## Shell 字符串
字符串是shell编程中最常用最有用的数据类型（除了数字和字符串，也没啥其它类型好用了），字符串可以用单引号，也可以用双引号，也可以不用引号。单双引号的区别跟PHP类似。
- 单引号
     单引号字符串的限制：

    - 单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的；
    - 单引号字串中不能出现单引号（对单引号使用转义符后也不行）。
- 双引号 
双引号的优点：
    - 双引号里可以有变量
    - 双引号里可以出现转义字符
## Shell 数组
 bash支持一维数组（不支持多维数组），并且没有限定数组的大小。
- 定义数组 
在 Shell 中，用括号来表示数组，数组元素用"空格"符号分割开。定义数组的一般形式为： 
```
数组名=(值1 值2 ... 值n)
```
- 读取数组 
读取数组元素值的一般格式是：
```
${数组名[下标]}
```
使用 @ 符号可以获取数组中的所有元素，例如： 
## 传递参数   
## 基本运算符  
原生bash不支持简单的数学运算，但是可以通过其他命令来实现，例如 awk 和 expr，expr 最常用。
```
#!/bin/bash

val=`expr 2 + 2`
echo "两数之和为 : $val"
```
两点注意：
    - 表达式和运算符之间要有空格，例如 2+2 是不对的，必须写成 2 + 2，这与我们熟悉的大多数编程语言不一样。
    - 完整的表达式要被 ` ` 包含，注意这个字符不是常用的单引号，在 Esc 键下边。

### 关系运算符
关系运算符只支持数字，不支持字符串，除非字符串的值是数字。
- -eq 	检测两个数是否相等，相等返回 true。
- -ne 	检测两个数是否不相等，不相等返回 true。
### 布尔运算符
- ! 	非运算，表达式为 true 则返回 false，否则返回 true。
- -o 	或运算，有一个表达式为 true 则返回 true。
### 逻辑运算符
- && 	逻辑的 AND 	[[ $a -lt 100 && $b -gt 100 ]] 返回 false
### 字符串运算符
### 文件测试运算符
文件测试运算符用于检测 Unix 文件的各种属性。 

## Shell echo命令
1. 显示普通字符串
2. 显示转义字符
## Shell printf命令
printf 命令模仿 C 程序库（library）里的 printf() 程序。
printf 命令的语法：
```
printf  format-string  [arguments...]
```
参数说明：

   - format-string: 为格式控制字符串
   - arguments: 为参数列表。 
## Shell test 命令
Shell中的 test 命令用于检查某个条件是否成立，它可以进行数值、字符和文件三个方面的测试。

 ## 查看进程
 ```pgrep java -l```
 ## 查看安装路径
 ``` locate mongo ```

## 文件操作

1. vim
2. tail 输出文件到终端
tail [-f][-c number | -n number ] [file]

-f 监视文件增长

-a  从number字节位置读取文件

3. cat 从第一行开始显示档案内容

